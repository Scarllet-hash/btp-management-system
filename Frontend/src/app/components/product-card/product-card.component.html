<div class="product-card h-100">
  <div class="product-image-container">
    <img [src]="product.image" [alt]="product.title" class="product-image">
    <div class="product-overlay">
      <button 
        class="btn btn-warning quick-view-btn"
        title="AperÃ§u rapide">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="product-badge" *ngIf="product.rating.rate >= 4">
      <i class="fas fa-star"></i>
      Populaire
    </div>
  </div>
  
  <div class="product-body">
    <div class="product-category">
      {{ product.category }}
    </div>
    
    <h5 class="product-title" [title]="product.title">
      {{ product.title.length > 50 ? (product.title.substring(0, 50) + '...') : product.title }}
    </h5>
    
    <p class="product-description">
      {{ product.description.length > 100 ? (product.description.substring(0, 100) + '...') : product.description }}
    </p>
    
    <div class="product-rating">
      <div class="stars">
        <i class="fas fa-star" *ngFor="let star of getStars(product.rating.rate)"></i>
        <i class="far fa-star" *ngFor="let star of getEmptyStars(product.rating.rate)"></i>
      </div>
      <span class="rating-text">({{ product.rating.count }} avis)</span>
    </div>
    
    <div class="product-footer">
      <div class="product-price">
        {{ formatPrice(product.price) }}
      </div>
      
      <button 
        class="btn btn-success add-to-cart-btn"
        (click)="onAddToCart()"
        [disabled]="isLoading">
        <span *ngIf="!isLoading">
          <i class="fas fa-cart-plus me-2"></i>
          Ajouter
        </span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin me-2"></i>
          Ajout...
        </span>
      </button>
    </div>
  </div>
</div>